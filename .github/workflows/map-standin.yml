# https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/defining-the-mergeability-of-pull-requests/troubleshooting-required-status-checks#handling-skipped-but-required-checks
name: map standin
on:
  pull_request:
    paths-ignore:
      - 'map/**'
      - '.github/workflows/map.yml'
concurrency:
  group: ${{ github.ref == 'refs/heads/main' && format('ci-map-standin-main-{0}', github.sha) || format('ci-map-standin-{0}', github.ref) }}
  cancel-in-progress: true
jobs:
  run:
    name: üî® Build & Execute (Map)
    runs-on: ubuntu-22.04
    timeout-minutes: 1
    steps:
      - run: 'echo "No build required. Executed this echo to get a status report for branch protection."'

  detekt:
    name: üîç Static Checks (Map)
    runs-on: ubuntu-22.04
    timeout-minutes: 1
    steps:
      - run: 'echo "No build required. Executed this echo to get a status report for branch protection."'

      - name: Checkout ${{ github.ref }} branch in ${{ github.repository }} repository.
        uses: actions/checkout@v4

      - name: Publish "Code scanning results / detekt".
        uses: github/codeql-action/upload-sarif@v2
        with:
          category: '.github/workflows/map.yml:detekt'
          sarif_file: ${{ github.workspace }}/.github/workflows/empty-reports/detekt.sarif
